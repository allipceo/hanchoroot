단순화된 데이터 아키텍처 - 방안 A
작성일: 2025.09.12
 작성자: 노팀장
 결정: 관리자 전담 수정 + 단방향 동기화

🔄 확정된 데이터 플로우
데이터 흐름
노션 데이터베이스 (마스터)
         ↓
    JSON 변환 (Claude 온라인)
         ↓
    data.js 파일 생성
         ↓
    앱 배포 (읽기 전용)

수정 프로세스
사용자 → 관리자 문의 → 조대표님 노션 수정 → JSON 재생성 → 앱 업데이트


📊 단순화된 데이터 스키마
권한 관리 불필요
{
  "id": "p_001",
  "name": "조정윤", 
  "gender": "M",
  "generation": 1,
  "line": "common",
  "birthDate": "1852-03-05",
  "deathDate": "1940-06-14", 
  "status": "deceased",
  "relationships": {
    "spouses": ["p_002", "p_003"],
    "children": ["p_004", "p_005"]
  },
  "contact": {
    "phone": "010-1234-5678",
    "email": "test@example.com"
  }
  // permissions 필드 제거
  // canEdit 배열 불필요
  // lastUpdated 단순화
}

설정 파일 단순화
{
  "app": {
    "version": "1.0.0",
    "dataVersion": "v1.8",
    "lastUpdate": "2025-09-12"
  },
  "admin": {
    "name": "조대표",
    "phone": "010-1234-5678",
    "email": "admin@hanyang.com"
  }
  // 복잡한 권한 관리 제거
  // password 불필요 (읽기만 하므로)
}


🎯 사용자 시나리오 단순화
수정된 UI 메뉴
┌─────────────────────────────┐
│  ⚙️ 설정                    │
├─────────────────────────────┤
│  📞 관리자 문의             │
│  📤 정보 내보내기            │
│  ❓ 도움말                  │
│  📄 이용약관                │
│                             │
│  ❌ [관리자 모드] 제거        │
│                             │
└─────────────────────────────┘

관리자 문의 화면
┌─────────────────────────────┐
│  📞 관리자 문의               │
├─────────────────────────────┤
│                             │
│  👨‍💼 족보 관리자:            │
│  조대표                      │
│  📞 010-1234-5678           │
│                             │
│  📝 수정 요청:               │
│  • 내 정보 수정 요청          │
│  • 가족 정보 오류 신고        │  
│  • 신규 정보 추가 요청        │
│                             │
│  [📞 전화하기] [💬 문자하기]   │
│                             │
└─────────────────────────────┘


⚡ 개발 복잡도 대폭 감소
제거되는 기능들
❌ 관리자 모드 인증
❌ 수정 권한 관리
❌ 승인/반려 프로세스
❌ 데이터 충돌 해결
❌ 실시간 동기화
❌ 로그 추적 시스템
유지되는 핵심 기능
✅ 이름 검색
✅ 패밀리별 보기
✅ 촌수 계산
✅ 생존 여부 표시
✅ 정보 내보내기
✅ 관리자 문의

🔧 기술 구현 단순화
앱 아키텍처
index.html (메인)
├── search.html (검색)
├── family.html (패밀리별)
├── calculator.html (촌수계산)
├── export.html (내보내기)
├── contact.html (관리자 문의)
├── data.js (읽기 전용 데이터)
├── common.js (공통 함수)
└── style.css (스타일)

JavaScript 단순화
// 복잡한 권한 체크 불필요
function displayPersonInfo(person) {
  // 단순히 정보만 표시
  return renderPersonCard(person);
}

// 수정 버튼 대신 문의 버튼만
function showContactAdmin() {
  // 관리자 연락처 표시
  window.location.href = 'contact.html';
}


📱 사용자 경험 개선
명확한 역할 분담
사용자: 조회, 검색, 계산, 내보내기
관리자: 모든 수정 및 데이터 관리
간단한 문의 프로세스
사용자 → "정보 수정 필요"
관리자 문의 메뉴 → 전화/문자
조대표님 → 노션에서 직접 수정
다음 배포 → 모든 사용자에게 반영
오류 없는 안정성
데이터 무결성 100% 보장
권한 오류 발생 불가
단순한 로직으로 버그 최소화

🚀 배포 및 업데이트 프로세스
정기 업데이트 주기
주간: 정기 점검 및 소규모 수정
월간: 대규모 데이터 정리
분기: 앱 기능 개선
업데이트 방법
1. 조대표님 노션 데이터 수정
2. Claude 온라인 → JSON 생성  
3. GitHub 업로드
4. 앱 자동 업데이트 또는 재배포

사용자 알림
앱 실행 시 "새로운 정보가 업데이트되었습니다"
주요 변경사항 팝업 알림

💡 향후 확장 계획
Phase 1: MVP (현재 결정)
읽기 전용 앱
관리자 전담 수정
단순한 문의 시스템
Phase 2: 제한적 개인 수정
개인 연락처만 수정 가능
관리자 즉시 알림
간단한 승인 프로세스
Phase 3: 고도화
실시간 동기화
복잡한 권한 관리
협업 기능 강화

📊 개발 리소스 절약
개발 시간 단축
복잡한 권한 시스템: 제거로 50% 시간 절약
동기화 로직: 제거로 30% 시간 절약
UI 단순화: 20% 시간 절약
유지보수 용이
버그 발생 가능성 최소화
테스트 케이스 단순화
문서화 간소화
결론: MVP 완성도 높이기 + 안정성 확보에 집중하는 현명한 결정입니다!
다음 단계: 단순화된 스키마로 서대리 개발 지시서 작성

