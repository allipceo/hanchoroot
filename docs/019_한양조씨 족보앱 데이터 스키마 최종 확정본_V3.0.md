# 한양조씨 족보앱 데이터 스키마 최종 확정본 V3.0

**프로젝트명**: 한양조씨 족보 MVP 앱  
**문서 유형**: 데이터 스키마 최종 확정  
**작성일**: 2025.09.13  
**작성자**: 서대리 (017번 시나리오 + 018번 UI 기반)  
**승인**: 조대표 (대기중)  
**버전**: V3.0 (최종 확정)

---

## 📋 1. 문서 개요

### 1.1 작성 목적
017번 사용자 시나리오와 018번 UI 설계를 완벽히 지원하면서, 향후 확장성을 고려한 **모듈식 데이터 스키마**를 설계하여 개발의 기준이 되도록 함.

### 1.2 핵심 원칙
- **시나리오 기반 설계**: 017번 시나리오 완전 지원
- **UI 최적화**: 018번 UI 요구사항 완벽 반영
- **모듈식 확장성**: 향후 기능 추가 시 유연한 확장
- **데이터 무결성**: 관리자 전담 수정 시스템
- **성능 최적화**: 모바일 환경 최적화

### 1.3 확장성 설계 철학
- **Lego Block 방식**: 작은 단위 모듈의 조합
- **One-Source Multi-Use**: 단일 데이터 소스의 다중 활용
- **Backward Compatibility**: 기존 데이터 호환성 보장
- **Forward Compatibility**: 미래 기능 확장 대비

---

## 🏗️ 2. 전체 데이터 아키텍처

### 2.1 모듈식 구조
```
📦 Data Architecture V3.0
├── 🎯 Core Module (핵심 모듈)
│   ├── Person (개인 정보)
│   ├── Relationship (관계 정보)
│   └── SearchIndex (검색 인덱스)
├── 🧮 Calculation Module (계산 모듈)
│   ├── KinshipMatrix (촌수 매트릭스)
│   ├── HonorificEngine (호칭 엔진)
│   └── PathFinder (관계 경로)
├── 📱 UI Module (UI 지원 모듈)
│   ├── DisplayConfig (표시 설정)
│   ├── UserPreferences (사용자 설정)
│   └── NavigationState (네비게이션 상태)
├── ⚙️ System Module (시스템 모듈)
│   ├── Config (앱 설정)
│   ├── Admin (관리자 정보)
│   └── Metadata (메타 정보)
└── 🔮 Extension Module (확장 모듈)
    ├── FutureFeatures (미래 기능)
    ├── PluginSystem (플러그인 시스템)
    └── CustomFields (사용자 정의 필드)
```

### 2.2 데이터 플로우
```
Notion Database (Master)
    ↓ (단방향 동기화)
JSON Data Files (App)
    ↓ (모듈별 로딩)
UI Components (Display)
    ↓ (사용자 상호작용)
Local Storage (Cache)
```

---

## 👤 3. Core Module: 핵심 데이터

### 3.1 Person 스키마 (V3.0 확장)
```json
{
  "id": "p_001",
  "name": "조은상",
  "displayName": "조은상",
  "gender": "M",
  "generation": 4,
  "line": "Line1",
  "birthDate": "1990-03-15",
  "deathDate": null,
  "status": "living",
  "age": 34,
  
  // 🔗 관계 정보 (모듈화)
  "relationships": {
    "father": "p_015",
    "mother": "p_016", 
    "spouses": ["p_017"],
    "children": ["p_025", "p_026"],
    "siblings": ["p_018", "p_019"]
  },
  
  // 📞 연락처 정보
  "contact": {
    "phone": "010-2067-6442",
    "email": "choeunsang@gmail.com",
    "address": "서울시 강남구",
    "social": {
      "kakao": "",
      "instagram": ""
    }
  },
  
  // 📋 추가 정보 (확장 가능)
  "additional": {
    "job": "개발자",
    "education": "서울대학교",
    "notes": "족보 관리자",
    "photo": "photos/p_001.jpg",
    "burialPlace": null,
    "memorialDate": null,
    "customFields": {}
  },
  
  // 🏷️ 태그 시스템 (확장성)
  "tags": ["관리자", "개발자", "4세대"],
  
  // 📊 통계 정보 (자동 계산)
  "stats": {
    "totalDescendants": 12,
    "livingDescendants": 8,
    "lastContact": "2025-09-13"
  },
  
  // 🔒 접근 제어 (관리자 전용)
  "access": {
    "isAdmin": true,
    "canEdit": false,
    "lastModified": "2025-09-13T10:00:00Z",
    "modifiedBy": "admin"
  }
}
```

### 3.2 Relationship 스키마 (관계 모듈)
```json
{
  "relationshipId": "rel_001_015",
  "fromPerson": "p_001",
  "toPerson": "p_015", 
  "relationType": "father",
  "relationDegree": 1,
  "isDirect": true,
  "isBiological": true,
  "startDate": "1990-03-15",
  "endDate": null,
  "notes": "생부",
  "customFields": {}
}
```

### 3.3 SearchIndex 스키마 (검색 최적화)
```json
{
  "searchIndex": {
    "byName": {
      "조은상": [
        {
          "id": "p_001",
          "generation": 4,
          "line": "Line1",
          "distinguisher": "관리자",
          "searchWeight": 1.0
        }
      ],
      "조윤희": [
        {
          "id": "p_023",
          "generation": 5,
          "line": "Line1",
          "father": "조성문",
          "spouse": "임준성",
          "birthYear": 1985,
          "searchWeight": 0.8
        },
        {
          "id": "p_045",
          "generation": 5,
          "line": "Line2", 
          "father": "조성용",
          "spouse": "양종원",
          "birthYear": 1987,
          "searchWeight": 0.8
        }
      ]
    },
    "byGeneration": {
      "1": ["p_001", "p_002", "p_003"],
      "2": ["p_004", "p_005", "p_006"],
      "3": ["p_009", "p_010", "p_011"],
      "4": ["p_021", "p_022", "p_023"],
      "5": ["p_066", "p_067", "p_068"],
      "6": ["p_110", "p_111", "p_112"]
    },
    "byLine": {
      "Line1": ["p_004", "p_006", "p_009"],
      "Line2": ["p_004", "p_007", "p_013"],
      "Line3": ["p_005", "p_008", "p_017"],
      "common": ["p_001", "p_002", "p_003"]
    },
    "byStatus": {
      "living": ["p_020", "p_021", "p_066"],
      "deceased": ["p_001", "p_002", "p_003"],
      "unknown": ["p_089", "p_090"]
    },
    "byTags": {
      "관리자": ["p_001"],
      "개발자": ["p_001", "p_025"],
      "4세대": ["p_021", "p_022", "p_023"]
    }
  }
}
```

---

## 🧮 4. Calculation Module: 계산 모듈

### 4.1 KinshipMatrix 스키마 (촌수 계산)
```json
{
  "kinshipMatrix": {
    "p_001": {
      "p_015": {
        "degree": 1,
        "relation": "father",
        "title": "아버지",
        "honorific": "아버지",
        "path": ["p_001", "p_015"],
        "isDirect": true
      },
      "p_025": {
        "degree": 1,
        "relation": "son",
        "title": "아들",
        "honorific": "아들",
        "path": ["p_001", "p_025"],
        "isDirect": true
      },
      "p_045": {
        "degree": 5,
        "relation": "nephew",
        "title": "5촌 조카",
        "honorific": "조윤희님",
        "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "isDirect": false
      }
    }
  }
}
```

### 4.2 HonorificEngine 스키마 (호칭 엔진)
```json
{
  "honorificRules": {
    "default": {
      "living": {
        "sameGeneration": "님",
        "olderGeneration": "님",
        "youngerGeneration": "님"
      },
      "deceased": {
        "sameGeneration": "님",
        "olderGeneration": "님", 
        "youngerGeneration": "님"
      }
    },
    "custom": {
      "p_001": {
        "p_015": "아버지",
        "p_016": "어머니",
        "p_025": "아들",
        "p_026": "딸"
      }
    }
  }
}
```

### 4.3 PathFinder 스키마 (관계 경로)
```json
{
  "pathFinder": {
    "p_001_to_p_045": {
      "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
      "commonAncestor": "p_015",
      "totalDegree": 5,
      "pathDescription": "조은상 → 조원상(부모) → 조대하(조부) → 조병희(증조부) → 조정윤(시조)",
      "visualization": {
        "nodes": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "edges": [
          {"from": "p_001", "to": "p_015", "relation": "father"},
          {"from": "p_015", "to": "p_030", "relation": "father"},
          {"from": "p_030", "to": "p_040", "relation": "father"},
          {"from": "p_040", "to": "p_045", "relation": "father"}
        ]
      }
    }
  }
}
```

---

## 📱 5. UI Module: UI 지원 모듈

### 5.1 DisplayConfig 스키마 (표시 설정)
```json
{
  "displayConfig": {
    "personCard": {
      "showPhoto": true,
      "showContact": true,
      "showStats": false,
      "showTags": true,
      "compactMode": false
    },
    "familyTree": {
      "showPhotos": true,
      "showStatus": true,
      "showGeneration": true,
      "maxDepth": 3,
      "layout": "vertical"
    },
    "searchResults": {
      "maxResults": 20,
      "showDistinguisher": true,
      "groupByGeneration": false,
      "highlightMatches": true
    }
  }
}
```

### 5.2 UserPreferences 스키마 (사용자 설정)
```json
{
  "userPreferences": {
    "currentUser": "p_001",
    "defaultLine": "Line1",
    "favoriteRelations": [
      {
        "from": "p_001",
        "to": "p_025",
        "relation": "5촌 조카",
        "addedAt": "2025-09-13T10:00:00Z"
      }
    ],
    "recentSearches": [
      "조윤희",
      "조광희", 
      "조원상"
    ],
    "uiSettings": {
      "fontSize": "medium",
      "theme": "light",
      "language": "ko"
    }
  }
}
```

### 5.3 NavigationState 스키마 (네비게이션 상태)
```json
{
  "navigationState": {
    "currentScreen": "person-detail",
    "screenHistory": [
      "main",
      "search",
      "person-detail"
    ],
    "breadcrumbs": [
      {"screen": "main", "title": "메인"},
      {"screen": "search", "title": "검색"},
      {"screen": "person-detail", "title": "조은상님"}
    ],
    "backStack": ["main", "search"]
  }
}
```

---

## ⚙️ 6. System Module: 시스템 모듈

### 6.1 Config 스키마 (앱 설정)
```json
{
  "config": {
    "app": {
      "version": "1.0.0",
      "dataVersion": "v3.0",
      "lastUpdate": "2025-09-13T15:30:00Z",
      "buildNumber": "100"
    },
    "admin": {
      "name": "조은상",
      "phone": "010-2067-6442",
      "email": "choeunsang@gmail.com",
      "accessPassword": "01020676442"
    },
    "settings": {
      "defaultLine": "Line1",
      "maxExportSize": 100,
      "cacheTimeout": 3600,
      "autoSave": true,
      "offlineMode": true
    },
    "features": {
      "searchEnabled": true,
      "calculatorEnabled": true,
      "exportEnabled": true,
      "adminModeEnabled": true,
      "futureFeatures": {
        "photoUpload": false,
        "socialSharing": false,
        "multiLanguage": false
      }
    }
  }
}
```

### 6.2 Admin 스키마 (관리자 정보)
```json
{
  "admin": {
    "currentAdmin": {
      "id": "admin_001",
      "name": "조은상",
      "phone": "010-2067-6442",
      "email": "choeunsang@gmail.com",
      "role": "primary",
      "permissions": ["read", "write", "admin"],
      "lastLogin": "2025-09-13T10:00:00Z"
    },
    "adminHistory": [
      {
        "action": "data_update",
        "timestamp": "2025-09-13T10:00:00Z",
        "admin": "조은상",
        "details": "조광희 정보 수정"
      }
    ],
    "contactRequests": [
      {
        "id": "req_001",
        "requester": "조윤희",
        "type": "info_correction",
        "status": "pending",
        "requestedAt": "2025-09-13T09:00:00Z",
        "details": "생년월일 수정 요청"
      }
    ]
  }
}
```

### 6.3 Metadata 스키마 (메타 정보)
```json
{
  "metadata": {
    "dataInfo": {
      "totalPersons": 115,
      "totalRelationships": 230,
      "lastSync": "2025-09-13T15:30:00Z",
      "dataSource": "notion_database",
      "checksum": "abc123def456"
    },
    "statistics": {
      "byGeneration": {
        "1": 3,
        "2": 5,
        "3": 12,
        "4": 24,
        "5": 42,
        "6": 29
      },
      "byLine": {
        "Line1": 51,
        "Line2": 16,
        "Line3": 19,
        "common": 3
      },
      "byStatus": {
        "living": 78,
        "deceased": 35,
        "unknown": 2
      }
    },
    "performance": {
      "loadTime": 1.2,
      "searchTime": 0.1,
      "calculationTime": 0.05,
      "memoryUsage": "45KB"
    }
  }
}
```

---

## 🔮 7. Extension Module: 확장 모듈

### 7.1 FutureFeatures 스키마 (미래 기능)
```json
{
  "futureFeatures": {
    "photoGallery": {
      "enabled": false,
      "maxPhotos": 10,
      "allowedFormats": ["jpg", "png", "gif"],
      "storageLimit": "100MB"
    },
    "socialSharing": {
      "enabled": false,
      "platforms": ["kakao", "facebook", "twitter"],
      "shareableContent": ["person", "relationship", "family_tree"]
    },
    "multiLanguage": {
      "enabled": false,
      "supportedLanguages": ["ko", "en", "ja"],
      "defaultLanguage": "ko"
    },
    "advancedSearch": {
      "enabled": false,
      "filters": ["age", "location", "profession"],
      "sortOptions": ["name", "age", "generation"]
    }
  }
}
```

### 7.2 PluginSystem 스키마 (플러그인 시스템)
```json
{
  "pluginSystem": {
    "enabled": false,
    "plugins": [
      {
        "id": "plugin_001",
        "name": "Photo Manager",
        "version": "1.0.0",
        "enabled": false,
        "permissions": ["read_photos", "write_photos"]
      },
      {
        "id": "plugin_002", 
        "name": "Event Tracker",
        "version": "1.0.0",
        "enabled": false,
        "permissions": ["read_events", "write_events"]
      }
    ]
  }
}
```

### 7.3 CustomFields 스키마 (사용자 정의 필드)
```json
{
  "customFields": {
    "person": {
      "bloodType": {
        "type": "select",
        "options": ["A", "B", "AB", "O"],
        "required": false
      },
      "hobby": {
        "type": "text",
        "maxLength": 100,
        "required": false
      },
      "anniversary": {
        "type": "date",
        "required": false
      }
    },
    "relationship": {
      "relationshipStrength": {
        "type": "number",
        "min": 1,
        "max": 10,
        "required": false
      }
    }
  }
}
```

---

## 📦 8. 모듈별 파일 구조

### 8.1 파일 분할 전략
```
📁 data/
├── 📄 core.js (핵심 모듈)
│   ├── Person 데이터
│   ├── Relationship 데이터
│   └── SearchIndex 데이터
├── 📄 calculation.js (계산 모듈)
│   ├── KinshipMatrix
│   ├── HonorificEngine
│   └── PathFinder
├── 📄 ui.js (UI 모듈)
│   ├── DisplayConfig
│   ├── UserPreferences
│   └── NavigationState
├── 📄 system.js (시스템 모듈)
│   ├── Config
│   ├── Admin
│   └── Metadata
└── 📄 extensions.js (확장 모듈)
    ├── FutureFeatures
    ├── PluginSystem
    └── CustomFields
```

### 8.2 모듈 로딩 시스템
```javascript
class ModularDataLoader {
  constructor() {
    this.modules = {
      core: null,
      calculation: null,
      ui: null,
      system: null,
      extensions: null
    };
    this.loadedModules = new Set();
  }
  
  async loadModule(moduleName) {
    if (this.loadedModules.has(moduleName)) {
      return this.modules[moduleName];
    }
    
    const response = await fetch(`data/${moduleName}.js`);
    this.modules[moduleName] = await response.json();
    this.loadedModules.add(moduleName);
    
    return this.modules[moduleName];
  }
  
  async loadCore() {
    return await this.loadModule('core');
  }
  
  async loadCalculation() {
    return await this.loadModule('calculation');
  }
  
  // 필요에 따라 모듈 로딩
  async getPerson(id) {
    const core = await this.loadCore();
    return core.persons.find(p => p.id === id);
  }
  
  async calculateKinship(fromId, toId) {
    const calculation = await this.loadCalculation();
    return calculation.kinshipMatrix[fromId]?.[toId];
  }
}
```

---

## 🔄 9. 노션 → JSON 변환 프로세스 (V3.0)

### 9.1 변환 매핑 테이블
| 노션 필드 | JSON 필드 | 변환 규칙 | 모듈 |
|-----------|-----------|-----------|------|
| 이름 | name | 직접 매핑 | Core |
| 성별 | gender | 자동 추론 | Core |
| 생년 | birthDate | YYYY-MM-DD | Core |
| 사망일 | deathDate | null 또는 날짜 | Core |
| 세대 | generation | 숫자 변환 | Core |
| Line | line | 문자열 | Core |
| 배우자 | relationships.spouses | 배열 변환 | Core |
| 아버지 | relationships.father | ID 참조 | Core |
| 어머니 | relationships.mother | ID 참조 | Core |
| 연락처 | contact.phone | 직접 매핑 | Core |
| 이메일 | contact.email | 직접 매핑 | Core |
| 주소 | contact.address | 직접 매핑 | Core |
| 직업 | additional.job | 직접 매핑 | Core |
| 사진 | additional.photo | URL 변환 | Core |
| 안장지 | additional.burialPlace | 직접 매핑 | Core |

### 9.2 변환 스크립트 (V3.0)
```javascript
class NotionToJSONConverter {
  constructor() {
    this.modules = {
      core: { persons: [], relationships: [], searchIndex: {} },
      calculation: { kinshipMatrix: {}, honorificEngine: {}, pathFinder: {} },
      ui: { displayConfig: {}, userPreferences: {}, navigationState: {} },
      system: { config: {}, admin: {}, metadata: {} },
      extensions: { futureFeatures: {}, pluginSystem: {}, customFields: {} }
    };
  }
  
  async convert(notionData) {
    // 1단계: Core 모듈 변환
    await this.convertCoreModule(notionData);
    
    // 2단계: Calculation 모듈 생성
    await this.generateCalculationModule();
    
    // 3단계: UI 모듈 초기화
    await this.initializeUIModule();
    
    // 4단계: System 모듈 설정
    await this.setupSystemModule();
    
    // 5단계: Extension 모듈 준비
    await this.prepareExtensionModule();
    
    return this.modules;
  }
  
  async convertCoreModule(notionData) {
    notionData.forEach(person => {
      const jsonPerson = {
        id: this.generateId(person.이름, person.세대),
        name: person.이름,
        displayName: person.이름,
        gender: this.determineGender(person.이름),
        generation: person.세대,
        line: person.Line || 'common',
        birthDate: this.convertDate(person.생년),
        deathDate: person.사망일 || null,
        status: this.determineStatus(person),
        age: this.calculateAge(person),
        relationships: this.buildRelationships(person),
        contact: {
          phone: person.연락처 || '',
          email: person.이메일 || '',
          address: person.주소 || '',
          social: {}
        },
        additional: {
          job: person.직업 || '',
          education: person.학력 || '',
          notes: person.비고 || '',
          photo: person.사진 || '',
          burialPlace: person.안장지 || null,
          memorialDate: person.기일 || null,
          customFields: {}
        },
        tags: this.generateTags(person),
        stats: this.calculateStats(person),
        access: {
          isAdmin: person.이름 === '조은상',
          canEdit: false,
          lastModified: new Date().toISOString(),
          modifiedBy: 'admin'
        }
      };
      
      this.modules.core.persons.push(jsonPerson);
    });
    
    // 검색 인덱스 생성
    this.buildSearchIndex();
  }
  
  async generateCalculationModule() {
    // 촌수 매트릭스 생성
    this.modules.calculation.kinshipMatrix = this.buildKinshipMatrix();
    
    // 호칭 엔진 설정
    this.modules.calculation.honorificEngine = this.setupHonorificEngine();
    
    // 경로 찾기 시스템
    this.modules.calculation.pathFinder = this.buildPathFinder();
  }
  
  // 기타 변환 메서드들...
}
```

---

## 🚀 10. 성능 최적화 (V3.0)

### 10.1 모듈별 로딩 전략
```javascript
class PerformanceOptimizer {
  constructor() {
    this.loadingStrategy = {
      core: 'immediate',      // 즉시 로딩
      calculation: 'lazy',    // 지연 로딩
      ui: 'on-demand',        // 필요시 로딩
      system: 'immediate',    // 즉시 로딩
      extensions: 'never'     // 사용 안함 (미래용)
    };
  }
  
  async loadRequiredModules() {
    // 필수 모듈만 즉시 로딩
    const core = await this.loadModule('core');
    const system = await this.loadModule('system');
    
    return { core, system };
  }
  
  async loadOnDemand(moduleName) {
    // 필요시에만 로딩
    return await this.loadModule(moduleName);
  }
}
```

### 10.2 메모리 사용량 최적화
| 모듈 | 크기 | 로딩 시점 | 사용 빈도 |
|------|------|-----------|-----------|
| Core | ~30KB | 즉시 | 항상 |
| Calculation | ~25KB | 지연 | 계산 시 |
| UI | ~15KB | 필요시 | 설정 시 |
| System | ~10KB | 즉시 | 항상 |
| Extensions | ~5KB | 사용 안함 | 미래용 |
| **총합** | **~85KB** | - | - |

---

## 🔒 11. 데이터 무결성 및 보안

### 11.1 ID 생성 규칙 (V3.0)
```javascript
class IDGenerator {
  static generatePersonId(name, generation) {
    const index = this.getGlobalIndex(name, generation);
    return `p_${index.toString().padStart(3, '0')}`;
  }
  
  static generateRelationshipId(fromId, toId) {
    return `rel_${fromId}_${toId}`;
  }
  
  static generateAdminId(name) {
    return `admin_${name.replace(/\s+/g, '_')}`;
  }
}
```

### 11.2 데이터 검증 시스템
```javascript
class DataValidator {
  static validatePerson(person) {
    const errors = [];
    
    if (!person.id || !person.id.startsWith('p_')) {
      errors.push('Invalid person ID');
    }
    
    if (!person.name || person.name.length < 2) {
      errors.push('Invalid name');
    }
    
    if (!['M', 'F'].includes(person.gender)) {
      errors.push('Invalid gender');
    }
    
    if (person.generation < 1 || person.generation > 6) {
      errors.push('Invalid generation');
    }
    
    return errors;
  }
  
  static validateRelationships(persons) {
    const errors = [];
    
    persons.forEach(person => {
      if (person.relationships.father) {
        const father = persons.find(p => p.id === person.relationships.father);
        if (!father || !father.relationships.children.includes(person.id)) {
          errors.push(`Relationship mismatch: ${person.name} - ${father?.name}`);
        }
      }
    });
    
    return errors;
  }
}
```

---

## 📋 12. 실제 데이터 예시 (V3.0)

### 12.1 조은상 데이터 (관리자)
```json
{
  "id": "p_001",
  "name": "조은상",
  "displayName": "조은상",
  "gender": "M",
  "generation": 4,
  "line": "Line1",
  "birthDate": "1990-03-15",
  "deathDate": null,
  "status": "living",
  "age": 34,
  "relationships": {
    "father": "p_015",
    "mother": "p_016",
    "spouses": ["p_017"],
    "children": ["p_025", "p_026"],
    "siblings": ["p_018", "p_019"]
  },
  "contact": {
    "phone": "010-2067-6442",
    "email": "choeunsang@gmail.com",
    "address": "서울시 강남구",
    "social": {}
  },
  "additional": {
    "job": "개발자",
    "education": "서울대학교",
    "notes": "족보 관리자",
    "photo": "photos/p_001.jpg",
    "burialPlace": null,
    "memorialDate": null,
    "customFields": {}
  },
  "tags": ["관리자", "개발자", "4세대"],
  "stats": {
    "totalDescendants": 12,
    "livingDescendants": 8,
    "lastContact": "2025-09-13"
  },
  "access": {
    "isAdmin": true,
    "canEdit": false,
    "lastModified": "2025-09-13T10:00:00Z",
    "modifiedBy": "admin"
  }
}
```

### 12.2 촌수 계산 예시
```json
{
  "kinshipMatrix": {
    "p_001": {
      "p_045": {
        "degree": 5,
        "relation": "nephew",
        "title": "5촌 조카",
        "honorific": "조윤희님",
        "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "isDirect": false,
        "calculation": {
          "fromToCommon": 2,
          "commonToTarget": 3,
          "totalDegree": 5
        }
      }
    }
  }
}
```

---

## 🎯 13. 확장성 시나리오

### 13.1 향후 기능 추가 시나리오
```javascript
// 시나리오 1: 사진 갤러리 추가
const photoGalleryExtension = {
  module: 'extensions',
  feature: 'photoGallery',
  enabled: true,
  data: {
    photos: [
      {
        id: 'photo_001',
        personId: 'p_001',
        url: 'photos/p_001_1.jpg',
        caption: '어린 시절',
        date: '1995-03-15'
      }
    ]
  }
};

// 시나리오 2: 다국어 지원 추가
const multiLanguageExtension = {
  module: 'extensions',
  feature: 'multiLanguage',
  enabled: true,
  data: {
    translations: {
      'p_001': {
        'ko': '조은상',
        'en': 'Jo Eun-sang',
        'ja': '趙恩相'
      }
    }
  }
};

// 시나리오 3: 사용자 정의 필드 추가
const customFieldsExtension = {
  module: 'extensions',
  feature: 'customFields',
  enabled: true,
  data: {
    person: {
      bloodType: 'A',
      hobby: '독서',
      anniversary: '2020-05-20'
    }
  }
};
```

### 13.2 플러그인 시스템 예시
```javascript
class PluginManager {
  constructor() {
    this.plugins = new Map();
  }
  
  registerPlugin(plugin) {
    this.plugins.set(plugin.id, plugin);
  }
  
  async loadPlugin(pluginId) {
    const plugin = this.plugins.get(pluginId);
    if (plugin && plugin.enabled) {
      await plugin.initialize();
      return plugin;
    }
  }
}

// 플러그인 예시
const photoManagerPlugin = {
  id: 'photo_manager',
  name: 'Photo Manager',
  version: '1.0.0',
  enabled: true,
  permissions: ['read_photos', 'write_photos'],
  initialize: async function() {
    // 플러그인 초기화 로직
  },
  execute: function(action, data) {
    // 플러그인 실행 로직
  }
};
```

---

## 📋 14. 개발 우선순위

### 14.1 Phase 1: 핵심 모듈 (9/14-9/22)
- **Core Module**: Person, Relationship, SearchIndex
- **System Module**: Config, Admin, Metadata
- **기본 UI 지원**: DisplayConfig, UserPreferences

### 14.2 Phase 2: 계산 모듈 (9/23-9/25)
- **Calculation Module**: KinshipMatrix, HonorificEngine
- **고급 UI**: NavigationState
- **성능 최적화**: 모듈 로딩 시스템

### 14.3 Phase 3: 확장 준비 (9/26-9/27)
- **Extension Module**: FutureFeatures, PluginSystem
- **데이터 검증**: DataValidator
- **확장성 테스트**: 플러그인 시스템

---

## 🎯 15. 성공 지표

### 15.1 기능성 지표
- ✅ **시나리오 지원**: 017번 시나리오 100% 지원
- ✅ **UI 호환성**: 018번 UI 요구사항 완벽 반영
- ✅ **데이터 무결성**: 관리자 전담 수정 시스템
- ✅ **확장성**: 모듈식 구조로 유연한 확장

### 15.2 성능 지표
- ✅ **로딩 속도**: 초기 로딩 2초 이내
- ✅ **검색 성능**: 검색 결과 0.1초 이내
- ✅ **계산 성능**: 촌수 계산 0.05초 이내
- ✅ **메모리 사용**: 총 85KB 이내

### 15.3 확장성 지표
- ✅ **모듈 독립성**: 각 모듈 독립적 동작
- ✅ **호환성**: 기존 데이터 호환성 보장
- ✅ **플러그인 지원**: 미래 기능 추가 가능
- ✅ **사용자 정의**: 사용자 정의 필드 지원

---

## 📋 16. 다음 단계

### 16.1 승인 대기 사항
- [ ] **조대표님 최종 승인** (필수)
- [ ] **스키마 완성도** 검토
- [ ] **확장성 검증** 확인

### 16.2 승인 후 다음 단계
1. **020번 개발 환경 구축** 문서 작성
2. **노션-JSON 변환 스크립트** 개발
3. **모듈별 데이터 파일** 생성
4. **개발 브랜치 생성** 및 코딩 시작

---

**문서 버전**: V3.0  
**최종 업데이트**: 2025.09.13 13:00  
**다음 업데이트**: 조대표님 승인 후 개발 환경 구축 문서 작성

---

**조대표님의 승인을 기다립니다.**
