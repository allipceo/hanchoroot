# í•œì–‘ì¡°ì”¨ ì¡±ë³´ì•± ë°ì´í„° ìŠ¤í‚¤ë§ˆ ìµœì¢… í™•ì •ë³¸ V3.0

**í”„ë¡œì íŠ¸ëª…**: í•œì–‘ì¡°ì”¨ ì¡±ë³´ MVP ì•±  
**ë¬¸ì„œ ìœ í˜•**: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ìµœì¢… í™•ì •  
**ì‘ì„±ì¼**: 2025.09.13  
**ì‘ì„±ì**: ì„œëŒ€ë¦¬ (017ë²ˆ ì‹œë‚˜ë¦¬ì˜¤ + 018ë²ˆ UI ê¸°ë°˜)  
**ìŠ¹ì¸**: ì¡°ëŒ€í‘œ (ëŒ€ê¸°ì¤‘)  
**ë²„ì „**: V3.0 (ìµœì¢… í™•ì •)

---

## ğŸ“‹ 1. ë¬¸ì„œ ê°œìš”

### 1.1 ì‘ì„± ëª©ì 
017ë²ˆ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ì™€ 018ë²ˆ UI ì„¤ê³„ë¥¼ ì™„ë²½íˆ ì§€ì›í•˜ë©´ì„œ, í–¥í›„ í™•ì¥ì„±ì„ ê³ ë ¤í•œ **ëª¨ë“ˆì‹ ë°ì´í„° ìŠ¤í‚¤ë§ˆ**ë¥¼ ì„¤ê³„í•˜ì—¬ ê°œë°œì˜ ê¸°ì¤€ì´ ë˜ë„ë¡ í•¨.

### 1.2 í•µì‹¬ ì›ì¹™
- **ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ì„¤ê³„**: 017ë²ˆ ì‹œë‚˜ë¦¬ì˜¤ ì™„ì „ ì§€ì›
- **UI ìµœì í™”**: 018ë²ˆ UI ìš”êµ¬ì‚¬í•­ ì™„ë²½ ë°˜ì˜
- **ëª¨ë“ˆì‹ í™•ì¥ì„±**: í–¥í›„ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ìœ ì—°í•œ í™•ì¥
- **ë°ì´í„° ë¬´ê²°ì„±**: ê´€ë¦¬ì ì „ë‹´ ìˆ˜ì • ì‹œìŠ¤í…œ
- **ì„±ëŠ¥ ìµœì í™”**: ëª¨ë°”ì¼ í™˜ê²½ ìµœì í™”

### 1.3 í™•ì¥ì„± ì„¤ê³„ ì² í•™
- **Lego Block ë°©ì‹**: ì‘ì€ ë‹¨ìœ„ ëª¨ë“ˆì˜ ì¡°í•©
- **One-Source Multi-Use**: ë‹¨ì¼ ë°ì´í„° ì†ŒìŠ¤ì˜ ë‹¤ì¤‘ í™œìš©
- **Backward Compatibility**: ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„± ë³´ì¥
- **Forward Compatibility**: ë¯¸ë˜ ê¸°ëŠ¥ í™•ì¥ ëŒ€ë¹„

---

## ğŸ—ï¸ 2. ì „ì²´ ë°ì´í„° ì•„í‚¤í…ì²˜

### 2.1 ëª¨ë“ˆì‹ êµ¬ì¡°
```
ğŸ“¦ Data Architecture V3.0
â”œâ”€â”€ ğŸ¯ Core Module (í•µì‹¬ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ Person (ê°œì¸ ì •ë³´)
â”‚   â”œâ”€â”€ Relationship (ê´€ê³„ ì •ë³´)
â”‚   â””â”€â”€ SearchIndex (ê²€ìƒ‰ ì¸ë±ìŠ¤)
â”œâ”€â”€ ğŸ§® Calculation Module (ê³„ì‚° ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ KinshipMatrix (ì´Œìˆ˜ ë§¤íŠ¸ë¦­ìŠ¤)
â”‚   â”œâ”€â”€ HonorificEngine (í˜¸ì¹­ ì—”ì§„)
â”‚   â””â”€â”€ PathFinder (ê´€ê³„ ê²½ë¡œ)
â”œâ”€â”€ ğŸ“± UI Module (UI ì§€ì› ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ DisplayConfig (í‘œì‹œ ì„¤ì •)
â”‚   â”œâ”€â”€ UserPreferences (ì‚¬ìš©ì ì„¤ì •)
â”‚   â””â”€â”€ NavigationState (ë„¤ë¹„ê²Œì´ì…˜ ìƒíƒœ)
â”œâ”€â”€ âš™ï¸ System Module (ì‹œìŠ¤í…œ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ Config (ì•± ì„¤ì •)
â”‚   â”œâ”€â”€ Admin (ê´€ë¦¬ì ì •ë³´)
â”‚   â””â”€â”€ Metadata (ë©”íƒ€ ì •ë³´)
â””â”€â”€ ğŸ”® Extension Module (í™•ì¥ ëª¨ë“ˆ)
    â”œâ”€â”€ FutureFeatures (ë¯¸ë˜ ê¸°ëŠ¥)
    â”œâ”€â”€ PluginSystem (í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ)
    â””â”€â”€ CustomFields (ì‚¬ìš©ì ì •ì˜ í•„ë“œ)
```

### 2.2 ë°ì´í„° í”Œë¡œìš°
```
Notion Database (Master)
    â†“ (ë‹¨ë°©í–¥ ë™ê¸°í™”)
JSON Data Files (App)
    â†“ (ëª¨ë“ˆë³„ ë¡œë”©)
UI Components (Display)
    â†“ (ì‚¬ìš©ì ìƒí˜¸ì‘ìš©)
Local Storage (Cache)
```

---

## ğŸ‘¤ 3. Core Module: í•µì‹¬ ë°ì´í„°

### 3.1 Person ìŠ¤í‚¤ë§ˆ (V3.0 í™•ì¥)
```json
{
  "id": "p_001",
  "name": "ì¡°ì€ìƒ",
  "displayName": "ì¡°ì€ìƒ",
  "gender": "M",
  "generation": 4,
  "line": "Line1",
  "birthDate": "1990-03-15",
  "deathDate": null,
  "status": "living",
  "age": 34,
  
  // ğŸ”— ê´€ê³„ ì •ë³´ (ëª¨ë“ˆí™”)
  "relationships": {
    "father": "p_015",
    "mother": "p_016", 
    "spouses": ["p_017"],
    "children": ["p_025", "p_026"],
    "siblings": ["p_018", "p_019"]
  },
  
  // ğŸ“ ì—°ë½ì²˜ ì •ë³´
  "contact": {
    "phone": "010-2067-6442",
    "email": "choeunsang@gmail.com",
    "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
    "social": {
      "kakao": "",
      "instagram": ""
    }
  },
  
  // ğŸ“‹ ì¶”ê°€ ì •ë³´ (í™•ì¥ ê°€ëŠ¥)
  "additional": {
    "job": "ê°œë°œì",
    "education": "ì„œìš¸ëŒ€í•™êµ",
    "notes": "ì¡±ë³´ ê´€ë¦¬ì",
    "photo": "photos/p_001.jpg",
    "burialPlace": null,
    "memorialDate": null,
    "customFields": {}
  },
  
  // ğŸ·ï¸ íƒœê·¸ ì‹œìŠ¤í…œ (í™•ì¥ì„±)
  "tags": ["ê´€ë¦¬ì", "ê°œë°œì", "4ì„¸ëŒ€"],
  
  // ğŸ“Š í†µê³„ ì •ë³´ (ìë™ ê³„ì‚°)
  "stats": {
    "totalDescendants": 12,
    "livingDescendants": 8,
    "lastContact": "2025-09-13"
  },
  
  // ğŸ”’ ì ‘ê·¼ ì œì–´ (ê´€ë¦¬ì ì „ìš©)
  "access": {
    "isAdmin": true,
    "canEdit": false,
    "lastModified": "2025-09-13T10:00:00Z",
    "modifiedBy": "admin"
  }
}
```

### 3.2 Relationship ìŠ¤í‚¤ë§ˆ (ê´€ê³„ ëª¨ë“ˆ)
```json
{
  "relationshipId": "rel_001_015",
  "fromPerson": "p_001",
  "toPerson": "p_015", 
  "relationType": "father",
  "relationDegree": 1,
  "isDirect": true,
  "isBiological": true,
  "startDate": "1990-03-15",
  "endDate": null,
  "notes": "ìƒë¶€",
  "customFields": {}
}
```

### 3.3 SearchIndex ìŠ¤í‚¤ë§ˆ (ê²€ìƒ‰ ìµœì í™”)
```json
{
  "searchIndex": {
    "byName": {
      "ì¡°ì€ìƒ": [
        {
          "id": "p_001",
          "generation": 4,
          "line": "Line1",
          "distinguisher": "ê´€ë¦¬ì",
          "searchWeight": 1.0
        }
      ],
      "ì¡°ìœ¤í¬": [
        {
          "id": "p_023",
          "generation": 5,
          "line": "Line1",
          "father": "ì¡°ì„±ë¬¸",
          "spouse": "ì„ì¤€ì„±",
          "birthYear": 1985,
          "searchWeight": 0.8
        },
        {
          "id": "p_045",
          "generation": 5,
          "line": "Line2", 
          "father": "ì¡°ì„±ìš©",
          "spouse": "ì–‘ì¢…ì›",
          "birthYear": 1987,
          "searchWeight": 0.8
        }
      ]
    },
    "byGeneration": {
      "1": ["p_001", "p_002", "p_003"],
      "2": ["p_004", "p_005", "p_006"],
      "3": ["p_009", "p_010", "p_011"],
      "4": ["p_021", "p_022", "p_023"],
      "5": ["p_066", "p_067", "p_068"],
      "6": ["p_110", "p_111", "p_112"]
    },
    "byLine": {
      "Line1": ["p_004", "p_006", "p_009"],
      "Line2": ["p_004", "p_007", "p_013"],
      "Line3": ["p_005", "p_008", "p_017"],
      "common": ["p_001", "p_002", "p_003"]
    },
    "byStatus": {
      "living": ["p_020", "p_021", "p_066"],
      "deceased": ["p_001", "p_002", "p_003"],
      "unknown": ["p_089", "p_090"]
    },
    "byTags": {
      "ê´€ë¦¬ì": ["p_001"],
      "ê°œë°œì": ["p_001", "p_025"],
      "4ì„¸ëŒ€": ["p_021", "p_022", "p_023"]
    }
  }
}
```

---

## ğŸ§® 4. Calculation Module: ê³„ì‚° ëª¨ë“ˆ

### 4.1 KinshipMatrix ìŠ¤í‚¤ë§ˆ (ì´Œìˆ˜ ê³„ì‚°)
```json
{
  "kinshipMatrix": {
    "p_001": {
      "p_015": {
        "degree": 1,
        "relation": "father",
        "title": "ì•„ë²„ì§€",
        "honorific": "ì•„ë²„ì§€",
        "path": ["p_001", "p_015"],
        "isDirect": true
      },
      "p_025": {
        "degree": 1,
        "relation": "son",
        "title": "ì•„ë“¤",
        "honorific": "ì•„ë“¤",
        "path": ["p_001", "p_025"],
        "isDirect": true
      },
      "p_045": {
        "degree": 5,
        "relation": "nephew",
        "title": "5ì´Œ ì¡°ì¹´",
        "honorific": "ì¡°ìœ¤í¬ë‹˜",
        "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "isDirect": false
      }
    }
  }
}
```

### 4.2 HonorificEngine ìŠ¤í‚¤ë§ˆ (í˜¸ì¹­ ì—”ì§„)
```json
{
  "honorificRules": {
    "default": {
      "living": {
        "sameGeneration": "ë‹˜",
        "olderGeneration": "ë‹˜",
        "youngerGeneration": "ë‹˜"
      },
      "deceased": {
        "sameGeneration": "ë‹˜",
        "olderGeneration": "ë‹˜", 
        "youngerGeneration": "ë‹˜"
      }
    },
    "custom": {
      "p_001": {
        "p_015": "ì•„ë²„ì§€",
        "p_016": "ì–´ë¨¸ë‹ˆ",
        "p_025": "ì•„ë“¤",
        "p_026": "ë”¸"
      }
    }
  }
}
```

### 4.3 PathFinder ìŠ¤í‚¤ë§ˆ (ê´€ê³„ ê²½ë¡œ)
```json
{
  "pathFinder": {
    "p_001_to_p_045": {
      "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
      "commonAncestor": "p_015",
      "totalDegree": 5,
      "pathDescription": "ì¡°ì€ìƒ â†’ ì¡°ì›ìƒ(ë¶€ëª¨) â†’ ì¡°ëŒ€í•˜(ì¡°ë¶€) â†’ ì¡°ë³‘í¬(ì¦ì¡°ë¶€) â†’ ì¡°ì •ìœ¤(ì‹œì¡°)",
      "visualization": {
        "nodes": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "edges": [
          {"from": "p_001", "to": "p_015", "relation": "father"},
          {"from": "p_015", "to": "p_030", "relation": "father"},
          {"from": "p_030", "to": "p_040", "relation": "father"},
          {"from": "p_040", "to": "p_045", "relation": "father"}
        ]
      }
    }
  }
}
```

---

## ğŸ“± 5. UI Module: UI ì§€ì› ëª¨ë“ˆ

### 5.1 DisplayConfig ìŠ¤í‚¤ë§ˆ (í‘œì‹œ ì„¤ì •)
```json
{
  "displayConfig": {
    "personCard": {
      "showPhoto": true,
      "showContact": true,
      "showStats": false,
      "showTags": true,
      "compactMode": false
    },
    "familyTree": {
      "showPhotos": true,
      "showStatus": true,
      "showGeneration": true,
      "maxDepth": 3,
      "layout": "vertical"
    },
    "searchResults": {
      "maxResults": 20,
      "showDistinguisher": true,
      "groupByGeneration": false,
      "highlightMatches": true
    }
  }
}
```

### 5.2 UserPreferences ìŠ¤í‚¤ë§ˆ (ì‚¬ìš©ì ì„¤ì •)
```json
{
  "userPreferences": {
    "currentUser": "p_001",
    "defaultLine": "Line1",
    "favoriteRelations": [
      {
        "from": "p_001",
        "to": "p_025",
        "relation": "5ì´Œ ì¡°ì¹´",
        "addedAt": "2025-09-13T10:00:00Z"
      }
    ],
    "recentSearches": [
      "ì¡°ìœ¤í¬",
      "ì¡°ê´‘í¬", 
      "ì¡°ì›ìƒ"
    ],
    "uiSettings": {
      "fontSize": "medium",
      "theme": "light",
      "language": "ko"
    }
  }
}
```

### 5.3 NavigationState ìŠ¤í‚¤ë§ˆ (ë„¤ë¹„ê²Œì´ì…˜ ìƒíƒœ)
```json
{
  "navigationState": {
    "currentScreen": "person-detail",
    "screenHistory": [
      "main",
      "search",
      "person-detail"
    ],
    "breadcrumbs": [
      {"screen": "main", "title": "ë©”ì¸"},
      {"screen": "search", "title": "ê²€ìƒ‰"},
      {"screen": "person-detail", "title": "ì¡°ì€ìƒë‹˜"}
    ],
    "backStack": ["main", "search"]
  }
}
```

---

## âš™ï¸ 6. System Module: ì‹œìŠ¤í…œ ëª¨ë“ˆ

### 6.1 Config ìŠ¤í‚¤ë§ˆ (ì•± ì„¤ì •)
```json
{
  "config": {
    "app": {
      "version": "1.0.0",
      "dataVersion": "v3.0",
      "lastUpdate": "2025-09-13T15:30:00Z",
      "buildNumber": "100"
    },
    "admin": {
      "name": "ì¡°ì€ìƒ",
      "phone": "010-2067-6442",
      "email": "choeunsang@gmail.com",
      "accessPassword": "01020676442"
    },
    "settings": {
      "defaultLine": "Line1",
      "maxExportSize": 100,
      "cacheTimeout": 3600,
      "autoSave": true,
      "offlineMode": true
    },
    "features": {
      "searchEnabled": true,
      "calculatorEnabled": true,
      "exportEnabled": true,
      "adminModeEnabled": true,
      "futureFeatures": {
        "photoUpload": false,
        "socialSharing": false,
        "multiLanguage": false
      }
    }
  }
}
```

### 6.2 Admin ìŠ¤í‚¤ë§ˆ (ê´€ë¦¬ì ì •ë³´)
```json
{
  "admin": {
    "currentAdmin": {
      "id": "admin_001",
      "name": "ì¡°ì€ìƒ",
      "phone": "010-2067-6442",
      "email": "choeunsang@gmail.com",
      "role": "primary",
      "permissions": ["read", "write", "admin"],
      "lastLogin": "2025-09-13T10:00:00Z"
    },
    "adminHistory": [
      {
        "action": "data_update",
        "timestamp": "2025-09-13T10:00:00Z",
        "admin": "ì¡°ì€ìƒ",
        "details": "ì¡°ê´‘í¬ ì •ë³´ ìˆ˜ì •"
      }
    ],
    "contactRequests": [
      {
        "id": "req_001",
        "requester": "ì¡°ìœ¤í¬",
        "type": "info_correction",
        "status": "pending",
        "requestedAt": "2025-09-13T09:00:00Z",
        "details": "ìƒë…„ì›”ì¼ ìˆ˜ì • ìš”ì²­"
      }
    ]
  }
}
```

### 6.3 Metadata ìŠ¤í‚¤ë§ˆ (ë©”íƒ€ ì •ë³´)
```json
{
  "metadata": {
    "dataInfo": {
      "totalPersons": 115,
      "totalRelationships": 230,
      "lastSync": "2025-09-13T15:30:00Z",
      "dataSource": "notion_database",
      "checksum": "abc123def456"
    },
    "statistics": {
      "byGeneration": {
        "1": 3,
        "2": 5,
        "3": 12,
        "4": 24,
        "5": 42,
        "6": 29
      },
      "byLine": {
        "Line1": 51,
        "Line2": 16,
        "Line3": 19,
        "common": 3
      },
      "byStatus": {
        "living": 78,
        "deceased": 35,
        "unknown": 2
      }
    },
    "performance": {
      "loadTime": 1.2,
      "searchTime": 0.1,
      "calculationTime": 0.05,
      "memoryUsage": "45KB"
    }
  }
}
```

---

## ğŸ”® 7. Extension Module: í™•ì¥ ëª¨ë“ˆ

### 7.1 FutureFeatures ìŠ¤í‚¤ë§ˆ (ë¯¸ë˜ ê¸°ëŠ¥)
```json
{
  "futureFeatures": {
    "photoGallery": {
      "enabled": false,
      "maxPhotos": 10,
      "allowedFormats": ["jpg", "png", "gif"],
      "storageLimit": "100MB"
    },
    "socialSharing": {
      "enabled": false,
      "platforms": ["kakao", "facebook", "twitter"],
      "shareableContent": ["person", "relationship", "family_tree"]
    },
    "multiLanguage": {
      "enabled": false,
      "supportedLanguages": ["ko", "en", "ja"],
      "defaultLanguage": "ko"
    },
    "advancedSearch": {
      "enabled": false,
      "filters": ["age", "location", "profession"],
      "sortOptions": ["name", "age", "generation"]
    }
  }
}
```

### 7.2 PluginSystem ìŠ¤í‚¤ë§ˆ (í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ)
```json
{
  "pluginSystem": {
    "enabled": false,
    "plugins": [
      {
        "id": "plugin_001",
        "name": "Photo Manager",
        "version": "1.0.0",
        "enabled": false,
        "permissions": ["read_photos", "write_photos"]
      },
      {
        "id": "plugin_002", 
        "name": "Event Tracker",
        "version": "1.0.0",
        "enabled": false,
        "permissions": ["read_events", "write_events"]
      }
    ]
  }
}
```

### 7.3 CustomFields ìŠ¤í‚¤ë§ˆ (ì‚¬ìš©ì ì •ì˜ í•„ë“œ)
```json
{
  "customFields": {
    "person": {
      "bloodType": {
        "type": "select",
        "options": ["A", "B", "AB", "O"],
        "required": false
      },
      "hobby": {
        "type": "text",
        "maxLength": 100,
        "required": false
      },
      "anniversary": {
        "type": "date",
        "required": false
      }
    },
    "relationship": {
      "relationshipStrength": {
        "type": "number",
        "min": 1,
        "max": 10,
        "required": false
      }
    }
  }
}
```

---

## ğŸ“¦ 8. ëª¨ë“ˆë³„ íŒŒì¼ êµ¬ì¡°

### 8.1 íŒŒì¼ ë¶„í•  ì „ëµ
```
ğŸ“ data/
â”œâ”€â”€ ğŸ“„ core.js (í•µì‹¬ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ Person ë°ì´í„°
â”‚   â”œâ”€â”€ Relationship ë°ì´í„°
â”‚   â””â”€â”€ SearchIndex ë°ì´í„°
â”œâ”€â”€ ğŸ“„ calculation.js (ê³„ì‚° ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ KinshipMatrix
â”‚   â”œâ”€â”€ HonorificEngine
â”‚   â””â”€â”€ PathFinder
â”œâ”€â”€ ğŸ“„ ui.js (UI ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ DisplayConfig
â”‚   â”œâ”€â”€ UserPreferences
â”‚   â””â”€â”€ NavigationState
â”œâ”€â”€ ğŸ“„ system.js (ì‹œìŠ¤í…œ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ Config
â”‚   â”œâ”€â”€ Admin
â”‚   â””â”€â”€ Metadata
â””â”€â”€ ğŸ“„ extensions.js (í™•ì¥ ëª¨ë“ˆ)
    â”œâ”€â”€ FutureFeatures
    â”œâ”€â”€ PluginSystem
    â””â”€â”€ CustomFields
```

### 8.2 ëª¨ë“ˆ ë¡œë”© ì‹œìŠ¤í…œ
```javascript
class ModularDataLoader {
  constructor() {
    this.modules = {
      core: null,
      calculation: null,
      ui: null,
      system: null,
      extensions: null
    };
    this.loadedModules = new Set();
  }
  
  async loadModule(moduleName) {
    if (this.loadedModules.has(moduleName)) {
      return this.modules[moduleName];
    }
    
    const response = await fetch(`data/${moduleName}.js`);
    this.modules[moduleName] = await response.json();
    this.loadedModules.add(moduleName);
    
    return this.modules[moduleName];
  }
  
  async loadCore() {
    return await this.loadModule('core');
  }
  
  async loadCalculation() {
    return await this.loadModule('calculation');
  }
  
  // í•„ìš”ì— ë”°ë¼ ëª¨ë“ˆ ë¡œë”©
  async getPerson(id) {
    const core = await this.loadCore();
    return core.persons.find(p => p.id === id);
  }
  
  async calculateKinship(fromId, toId) {
    const calculation = await this.loadCalculation();
    return calculation.kinshipMatrix[fromId]?.[toId];
  }
}
```

---

## ğŸ”„ 9. ë…¸ì…˜ â†’ JSON ë³€í™˜ í”„ë¡œì„¸ìŠ¤ (V3.0)

### 9.1 ë³€í™˜ ë§¤í•‘ í…Œì´ë¸”
| ë…¸ì…˜ í•„ë“œ | JSON í•„ë“œ | ë³€í™˜ ê·œì¹™ | ëª¨ë“ˆ |
|-----------|-----------|-----------|------|
| ì´ë¦„ | name | ì§ì ‘ ë§¤í•‘ | Core |
| ì„±ë³„ | gender | ìë™ ì¶”ë¡  | Core |
| ìƒë…„ | birthDate | YYYY-MM-DD | Core |
| ì‚¬ë§ì¼ | deathDate | null ë˜ëŠ” ë‚ ì§œ | Core |
| ì„¸ëŒ€ | generation | ìˆ«ì ë³€í™˜ | Core |
| Line | line | ë¬¸ìì—´ | Core |
| ë°°ìš°ì | relationships.spouses | ë°°ì—´ ë³€í™˜ | Core |
| ì•„ë²„ì§€ | relationships.father | ID ì°¸ì¡° | Core |
| ì–´ë¨¸ë‹ˆ | relationships.mother | ID ì°¸ì¡° | Core |
| ì—°ë½ì²˜ | contact.phone | ì§ì ‘ ë§¤í•‘ | Core |
| ì´ë©”ì¼ | contact.email | ì§ì ‘ ë§¤í•‘ | Core |
| ì£¼ì†Œ | contact.address | ì§ì ‘ ë§¤í•‘ | Core |
| ì§ì—… | additional.job | ì§ì ‘ ë§¤í•‘ | Core |
| ì‚¬ì§„ | additional.photo | URL ë³€í™˜ | Core |
| ì•ˆì¥ì§€ | additional.burialPlace | ì§ì ‘ ë§¤í•‘ | Core |

### 9.2 ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ (V3.0)
```javascript
class NotionToJSONConverter {
  constructor() {
    this.modules = {
      core: { persons: [], relationships: [], searchIndex: {} },
      calculation: { kinshipMatrix: {}, honorificEngine: {}, pathFinder: {} },
      ui: { displayConfig: {}, userPreferences: {}, navigationState: {} },
      system: { config: {}, admin: {}, metadata: {} },
      extensions: { futureFeatures: {}, pluginSystem: {}, customFields: {} }
    };
  }
  
  async convert(notionData) {
    // 1ë‹¨ê³„: Core ëª¨ë“ˆ ë³€í™˜
    await this.convertCoreModule(notionData);
    
    // 2ë‹¨ê³„: Calculation ëª¨ë“ˆ ìƒì„±
    await this.generateCalculationModule();
    
    // 3ë‹¨ê³„: UI ëª¨ë“ˆ ì´ˆê¸°í™”
    await this.initializeUIModule();
    
    // 4ë‹¨ê³„: System ëª¨ë“ˆ ì„¤ì •
    await this.setupSystemModule();
    
    // 5ë‹¨ê³„: Extension ëª¨ë“ˆ ì¤€ë¹„
    await this.prepareExtensionModule();
    
    return this.modules;
  }
  
  async convertCoreModule(notionData) {
    notionData.forEach(person => {
      const jsonPerson = {
        id: this.generateId(person.ì´ë¦„, person.ì„¸ëŒ€),
        name: person.ì´ë¦„,
        displayName: person.ì´ë¦„,
        gender: this.determineGender(person.ì´ë¦„),
        generation: person.ì„¸ëŒ€,
        line: person.Line || 'common',
        birthDate: this.convertDate(person.ìƒë…„),
        deathDate: person.ì‚¬ë§ì¼ || null,
        status: this.determineStatus(person),
        age: this.calculateAge(person),
        relationships: this.buildRelationships(person),
        contact: {
          phone: person.ì—°ë½ì²˜ || '',
          email: person.ì´ë©”ì¼ || '',
          address: person.ì£¼ì†Œ || '',
          social: {}
        },
        additional: {
          job: person.ì§ì—… || '',
          education: person.í•™ë ¥ || '',
          notes: person.ë¹„ê³  || '',
          photo: person.ì‚¬ì§„ || '',
          burialPlace: person.ì•ˆì¥ì§€ || null,
          memorialDate: person.ê¸°ì¼ || null,
          customFields: {}
        },
        tags: this.generateTags(person),
        stats: this.calculateStats(person),
        access: {
          isAdmin: person.ì´ë¦„ === 'ì¡°ì€ìƒ',
          canEdit: false,
          lastModified: new Date().toISOString(),
          modifiedBy: 'admin'
        }
      };
      
      this.modules.core.persons.push(jsonPerson);
    });
    
    // ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„±
    this.buildSearchIndex();
  }
  
  async generateCalculationModule() {
    // ì´Œìˆ˜ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
    this.modules.calculation.kinshipMatrix = this.buildKinshipMatrix();
    
    // í˜¸ì¹­ ì—”ì§„ ì„¤ì •
    this.modules.calculation.honorificEngine = this.setupHonorificEngine();
    
    // ê²½ë¡œ ì°¾ê¸° ì‹œìŠ¤í…œ
    this.modules.calculation.pathFinder = this.buildPathFinder();
  }
  
  // ê¸°íƒ€ ë³€í™˜ ë©”ì„œë“œë“¤...
}
```

---

## ğŸš€ 10. ì„±ëŠ¥ ìµœì í™” (V3.0)

### 10.1 ëª¨ë“ˆë³„ ë¡œë”© ì „ëµ
```javascript
class PerformanceOptimizer {
  constructor() {
    this.loadingStrategy = {
      core: 'immediate',      // ì¦‰ì‹œ ë¡œë”©
      calculation: 'lazy',    // ì§€ì—° ë¡œë”©
      ui: 'on-demand',        // í•„ìš”ì‹œ ë¡œë”©
      system: 'immediate',    // ì¦‰ì‹œ ë¡œë”©
      extensions: 'never'     // ì‚¬ìš© ì•ˆí•¨ (ë¯¸ë˜ìš©)
    };
  }
  
  async loadRequiredModules() {
    // í•„ìˆ˜ ëª¨ë“ˆë§Œ ì¦‰ì‹œ ë¡œë”©
    const core = await this.loadModule('core');
    const system = await this.loadModule('system');
    
    return { core, system };
  }
  
  async loadOnDemand(moduleName) {
    // í•„ìš”ì‹œì—ë§Œ ë¡œë”©
    return await this.loadModule(moduleName);
  }
}
```

### 10.2 ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
| ëª¨ë“ˆ | í¬ê¸° | ë¡œë”© ì‹œì  | ì‚¬ìš© ë¹ˆë„ |
|------|------|-----------|-----------|
| Core | ~30KB | ì¦‰ì‹œ | í•­ìƒ |
| Calculation | ~25KB | ì§€ì—° | ê³„ì‚° ì‹œ |
| UI | ~15KB | í•„ìš”ì‹œ | ì„¤ì • ì‹œ |
| System | ~10KB | ì¦‰ì‹œ | í•­ìƒ |
| Extensions | ~5KB | ì‚¬ìš© ì•ˆí•¨ | ë¯¸ë˜ìš© |
| **ì´í•©** | **~85KB** | - | - |

---

## ğŸ”’ 11. ë°ì´í„° ë¬´ê²°ì„± ë° ë³´ì•ˆ

### 11.1 ID ìƒì„± ê·œì¹™ (V3.0)
```javascript
class IDGenerator {
  static generatePersonId(name, generation) {
    const index = this.getGlobalIndex(name, generation);
    return `p_${index.toString().padStart(3, '0')}`;
  }
  
  static generateRelationshipId(fromId, toId) {
    return `rel_${fromId}_${toId}`;
  }
  
  static generateAdminId(name) {
    return `admin_${name.replace(/\s+/g, '_')}`;
  }
}
```

### 11.2 ë°ì´í„° ê²€ì¦ ì‹œìŠ¤í…œ
```javascript
class DataValidator {
  static validatePerson(person) {
    const errors = [];
    
    if (!person.id || !person.id.startsWith('p_')) {
      errors.push('Invalid person ID');
    }
    
    if (!person.name || person.name.length < 2) {
      errors.push('Invalid name');
    }
    
    if (!['M', 'F'].includes(person.gender)) {
      errors.push('Invalid gender');
    }
    
    if (person.generation < 1 || person.generation > 6) {
      errors.push('Invalid generation');
    }
    
    return errors;
  }
  
  static validateRelationships(persons) {
    const errors = [];
    
    persons.forEach(person => {
      if (person.relationships.father) {
        const father = persons.find(p => p.id === person.relationships.father);
        if (!father || !father.relationships.children.includes(person.id)) {
          errors.push(`Relationship mismatch: ${person.name} - ${father?.name}`);
        }
      }
    });
    
    return errors;
  }
}
```

---

## ğŸ“‹ 12. ì‹¤ì œ ë°ì´í„° ì˜ˆì‹œ (V3.0)

### 12.1 ì¡°ì€ìƒ ë°ì´í„° (ê´€ë¦¬ì)
```json
{
  "id": "p_001",
  "name": "ì¡°ì€ìƒ",
  "displayName": "ì¡°ì€ìƒ",
  "gender": "M",
  "generation": 4,
  "line": "Line1",
  "birthDate": "1990-03-15",
  "deathDate": null,
  "status": "living",
  "age": 34,
  "relationships": {
    "father": "p_015",
    "mother": "p_016",
    "spouses": ["p_017"],
    "children": ["p_025", "p_026"],
    "siblings": ["p_018", "p_019"]
  },
  "contact": {
    "phone": "010-2067-6442",
    "email": "choeunsang@gmail.com",
    "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
    "social": {}
  },
  "additional": {
    "job": "ê°œë°œì",
    "education": "ì„œìš¸ëŒ€í•™êµ",
    "notes": "ì¡±ë³´ ê´€ë¦¬ì",
    "photo": "photos/p_001.jpg",
    "burialPlace": null,
    "memorialDate": null,
    "customFields": {}
  },
  "tags": ["ê´€ë¦¬ì", "ê°œë°œì", "4ì„¸ëŒ€"],
  "stats": {
    "totalDescendants": 12,
    "livingDescendants": 8,
    "lastContact": "2025-09-13"
  },
  "access": {
    "isAdmin": true,
    "canEdit": false,
    "lastModified": "2025-09-13T10:00:00Z",
    "modifiedBy": "admin"
  }
}
```

### 12.2 ì´Œìˆ˜ ê³„ì‚° ì˜ˆì‹œ
```json
{
  "kinshipMatrix": {
    "p_001": {
      "p_045": {
        "degree": 5,
        "relation": "nephew",
        "title": "5ì´Œ ì¡°ì¹´",
        "honorific": "ì¡°ìœ¤í¬ë‹˜",
        "path": ["p_001", "p_015", "p_030", "p_040", "p_045"],
        "isDirect": false,
        "calculation": {
          "fromToCommon": 2,
          "commonToTarget": 3,
          "totalDegree": 5
        }
      }
    }
  }
}
```

---

## ğŸ¯ 13. í™•ì¥ì„± ì‹œë‚˜ë¦¬ì˜¤

### 13.1 í–¥í›„ ê¸°ëŠ¥ ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤
```javascript
// ì‹œë‚˜ë¦¬ì˜¤ 1: ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ ì¶”ê°€
const photoGalleryExtension = {
  module: 'extensions',
  feature: 'photoGallery',
  enabled: true,
  data: {
    photos: [
      {
        id: 'photo_001',
        personId: 'p_001',
        url: 'photos/p_001_1.jpg',
        caption: 'ì–´ë¦° ì‹œì ˆ',
        date: '1995-03-15'
      }
    ]
  }
};

// ì‹œë‚˜ë¦¬ì˜¤ 2: ë‹¤êµ­ì–´ ì§€ì› ì¶”ê°€
const multiLanguageExtension = {
  module: 'extensions',
  feature: 'multiLanguage',
  enabled: true,
  data: {
    translations: {
      'p_001': {
        'ko': 'ì¡°ì€ìƒ',
        'en': 'Jo Eun-sang',
        'ja': 'è¶™æ©ç›¸'
      }
    }
  }
};

// ì‹œë‚˜ë¦¬ì˜¤ 3: ì‚¬ìš©ì ì •ì˜ í•„ë“œ ì¶”ê°€
const customFieldsExtension = {
  module: 'extensions',
  feature: 'customFields',
  enabled: true,
  data: {
    person: {
      bloodType: 'A',
      hobby: 'ë…ì„œ',
      anniversary: '2020-05-20'
    }
  }
};
```

### 13.2 í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ ì˜ˆì‹œ
```javascript
class PluginManager {
  constructor() {
    this.plugins = new Map();
  }
  
  registerPlugin(plugin) {
    this.plugins.set(plugin.id, plugin);
  }
  
  async loadPlugin(pluginId) {
    const plugin = this.plugins.get(pluginId);
    if (plugin && plugin.enabled) {
      await plugin.initialize();
      return plugin;
    }
  }
}

// í”ŒëŸ¬ê·¸ì¸ ì˜ˆì‹œ
const photoManagerPlugin = {
  id: 'photo_manager',
  name: 'Photo Manager',
  version: '1.0.0',
  enabled: true,
  permissions: ['read_photos', 'write_photos'],
  initialize: async function() {
    // í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” ë¡œì§
  },
  execute: function(action, data) {
    // í”ŒëŸ¬ê·¸ì¸ ì‹¤í–‰ ë¡œì§
  }
};
```

---

## ğŸ“‹ 14. ê°œë°œ ìš°ì„ ìˆœìœ„

### 14.1 Phase 1: í•µì‹¬ ëª¨ë“ˆ (9/14-9/22)
- **Core Module**: Person, Relationship, SearchIndex
- **System Module**: Config, Admin, Metadata
- **ê¸°ë³¸ UI ì§€ì›**: DisplayConfig, UserPreferences

### 14.2 Phase 2: ê³„ì‚° ëª¨ë“ˆ (9/23-9/25)
- **Calculation Module**: KinshipMatrix, HonorificEngine
- **ê³ ê¸‰ UI**: NavigationState
- **ì„±ëŠ¥ ìµœì í™”**: ëª¨ë“ˆ ë¡œë”© ì‹œìŠ¤í…œ

### 14.3 Phase 3: í™•ì¥ ì¤€ë¹„ (9/26-9/27)
- **Extension Module**: FutureFeatures, PluginSystem
- **ë°ì´í„° ê²€ì¦**: DataValidator
- **í™•ì¥ì„± í…ŒìŠ¤íŠ¸**: í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ

---

## ğŸ¯ 15. ì„±ê³µ ì§€í‘œ

### 15.1 ê¸°ëŠ¥ì„± ì§€í‘œ
- âœ… **ì‹œë‚˜ë¦¬ì˜¤ ì§€ì›**: 017ë²ˆ ì‹œë‚˜ë¦¬ì˜¤ 100% ì§€ì›
- âœ… **UI í˜¸í™˜ì„±**: 018ë²ˆ UI ìš”êµ¬ì‚¬í•­ ì™„ë²½ ë°˜ì˜
- âœ… **ë°ì´í„° ë¬´ê²°ì„±**: ê´€ë¦¬ì ì „ë‹´ ìˆ˜ì • ì‹œìŠ¤í…œ
- âœ… **í™•ì¥ì„±**: ëª¨ë“ˆì‹ êµ¬ì¡°ë¡œ ìœ ì—°í•œ í™•ì¥

### 15.2 ì„±ëŠ¥ ì§€í‘œ
- âœ… **ë¡œë”© ì†ë„**: ì´ˆê¸° ë¡œë”© 2ì´ˆ ì´ë‚´
- âœ… **ê²€ìƒ‰ ì„±ëŠ¥**: ê²€ìƒ‰ ê²°ê³¼ 0.1ì´ˆ ì´ë‚´
- âœ… **ê³„ì‚° ì„±ëŠ¥**: ì´Œìˆ˜ ê³„ì‚° 0.05ì´ˆ ì´ë‚´
- âœ… **ë©”ëª¨ë¦¬ ì‚¬ìš©**: ì´ 85KB ì´ë‚´

### 15.3 í™•ì¥ì„± ì§€í‘œ
- âœ… **ëª¨ë“ˆ ë…ë¦½ì„±**: ê° ëª¨ë“ˆ ë…ë¦½ì  ë™ì‘
- âœ… **í˜¸í™˜ì„±**: ê¸°ì¡´ ë°ì´í„° í˜¸í™˜ì„± ë³´ì¥
- âœ… **í”ŒëŸ¬ê·¸ì¸ ì§€ì›**: ë¯¸ë˜ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥
- âœ… **ì‚¬ìš©ì ì •ì˜**: ì‚¬ìš©ì ì •ì˜ í•„ë“œ ì§€ì›

---

## ğŸ“‹ 16. ë‹¤ìŒ ë‹¨ê³„

### 16.1 ìŠ¹ì¸ ëŒ€ê¸° ì‚¬í•­
- [ ] **ì¡°ëŒ€í‘œë‹˜ ìµœì¢… ìŠ¹ì¸** (í•„ìˆ˜)
- [ ] **ìŠ¤í‚¤ë§ˆ ì™„ì„±ë„** ê²€í† 
- [ ] **í™•ì¥ì„± ê²€ì¦** í™•ì¸

### 16.2 ìŠ¹ì¸ í›„ ë‹¤ìŒ ë‹¨ê³„
1. **020ë²ˆ ê°œë°œ í™˜ê²½ êµ¬ì¶•** ë¬¸ì„œ ì‘ì„±
2. **ë…¸ì…˜-JSON ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸** ê°œë°œ
3. **ëª¨ë“ˆë³„ ë°ì´í„° íŒŒì¼** ìƒì„±
4. **ê°œë°œ ë¸Œëœì¹˜ ìƒì„±** ë° ì½”ë”© ì‹œì‘

---

**ë¬¸ì„œ ë²„ì „**: V3.0  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025.09.13 13:00  
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: ì¡°ëŒ€í‘œë‹˜ ìŠ¹ì¸ í›„ ê°œë°œ í™˜ê²½ êµ¬ì¶• ë¬¸ì„œ ì‘ì„±

---

**ì¡°ëŒ€í‘œë‹˜ì˜ ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.**
